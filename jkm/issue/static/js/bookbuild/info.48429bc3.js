webpackJsonp([31],{"4XP4":function(t,e){},CFKu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("PnpH"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);var r=a("tSsD");var o=function(t){a("zB84")},l=a("VU/8")(s.a,r.a,!1,o,"data-v-f429c6b2",null);e.default=l.exports},"I1/9":function(t,e,a){"use strict";var n=i(a("/5sW")),s=i(a("CFKu"));function i(t){return t&&t.__esModule?t:{default:t}}a("paoi"),new n.default({el:"#info",render:function(t){return t(s.default)}})},PnpH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=p(a("fZjL")),s=p(a("woOf")),i=p(a("mvHQ")),r=p(a("35/Y")),o=p(a("bUer")),l=p(a("oM3R")),c=p(a("u90m")),d=a("yt7g"),u=a("vMlw");function p(t){return t&&t.__esModule?t:{default:t}}a("ioi+"),e.default={name:"info",components:{temp:r.default,btn:o.default,headTop:l.default,namesearch:c.default},data:function(){return{patientName:"",patientIdNumber:"",patientPhone:"",patientAddress:"",patientSex:"1",screenHeightNoChange:!0,AllPatients:[],regularAllPatients:[],age:"",birthday:"",type:"",scid:"",did:""}},methods:{gonext:function(){if(this.IdentityCodeValid(this.patientIdNumber)){var t={serialNo:Math.floor(1e3*Math.random()),patientName:this.patientName,patientIdNumber:this.patientIdNumber,patientPhone:this.patientPhone,patientAddress:this.patientAddress,padDeviceCode:sessionStorage.getItem("padcode")};sessionStorage.setItem("FileEstablishment",(0,i.default)(t)),window.location.href="./medhis.html?did="+this.did+"&scid="+this.scid+"&type="+this.type}else this.alert("身份证号码有误")},changePerson:function(t){"switch"==this.type?window.location.href="../remoteclinic/affirmexpert.html?personId="+t+"&did="+this.did+"&scid="+this.scid+"&type=info":window.android&&window.android.getPersonInfo(t)},toggle:function(t){switch(t.target.innerText){case"男":this.patientSex="1";break;case"女":this.patientSex="0"}},alert:function(t){this.alertDefault({text:t,rowButton:!1,leftButtonText:"取消",rightButtonText:"确定"})},getFocus:function(){setTimeout(function(){document.body.scrollTop=document.body.scrollHeight},300)}},watch:{patientIdNumber:function(t){if(t.length<14)return this.birthday="",void(this.age="");this.birthday=t.slice(6,10)+"-"+t.slice(10,12)+"-"+t.slice(12,14);var e=new Date,a=new Date(t.slice(6,10)+"-"+t.slice(10,12)+"-"+t.slice(12,14));this.age=e.getFullYear()-a.getFullYear()-(e.getMonth()<a.getMonth()||e.getMonth()==a.getMonth()&&e.getDate()<a.getDate()?1:0)}},created:function(){var t=this,e=(0,d.getURLParameter)("type"),a=(0,d.getURLParameter)("scid"),n=(0,d.getURLParameter)("did");t.type=e,t.scid=a,t.did=n;var s=sessionStorage.getItem("personId");if(!(0,d.empty)(s)){var i={personId:s};(0,u.queryPersonalRecord)(i).then(function(e){t.patientName=e.result.name,t.patientIdNumber=e.result.idNumber,t.phoneNumber=e.result.phoneNumber,t.patientAddress=e.result.address})}},mounted:function(){var t=this,e={padDeviceCode:t.padcode||sessionStorage.getItem("padcode"),serialNo:"00000"},a=[],i=[];(0,u.getResidentList)(e).then(function(e){a=e.result||"",t.regularAllPatients=(0,s.default)({},a),a.map(function(t){(0,n.default)(t).forEach(function(e){t[e].map(function(t){t.group=e,i.push(t)})})}),t.AllPatients=i})}}},dj50:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ns"}},[a("div",{staticClass:"ns-searchbox"},[a("input",{attrs:{type:"text",placeholder:"搜索"},on:{input:t.search}})]),t._v(" "),a("div",{ref:"scroll_body",staticClass:"ns-ul-container",attrs:{id:"scroll_body"},on:{click:t.recover}},[a("ul",{staticClass:"ns-letter-ul"},t._l(t.letterArr,function(e,n){return a("li",{key:n,staticClass:"ns-letter-li",attrs:{"data-word":e},on:{click:function(e){return e.stopPropagation(),t.initialSearch(e)}}},[t._v(t._s(e))])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.IsSearch,expression:"!IsSearch"}]},t._l(t.regularAllPatients,function(e,n){return a("ul",t._l(e,function(e,n){return e.length>0?a("li",[a("div",{ref:"anchor-"+n,refInFor:!0,staticClass:"first-name-sign"},[t._v(t._s(n))]),t._v(" "),a("ul",{staticClass:"ns-list-ul"},t._l(e,function(e,s){return a("li",{key:s,staticClass:"ns-list-li",class:{active:s+n===t.personCurrentIndex},attrs:{"data-personId":e.personId},on:{click:function(e){e.stopPropagation(),t.personCurrentIndex=s+n,t.searchSinglePatient(e)}}},[a("img",{staticClass:"ns-list-pic",attrs:{src:e.headUrl||"https://www.fc18.com.cn/aiaf/sgw/content/fileResource/5443334476",alt:"picture unloaded"}}),t._v(" "),a("div",{staticClass:"ns-list-right"},[a("div",{staticClass:"ns-list-right-top"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"ns-list-right-bottom"},[a("div",{staticClass:"ns-information"},[t._v(t._s(e.sex))]),t._v(" "),a("div",{staticClass:"ns-information"},[t._v(t._s(e.age)+"岁")])])])])}))]):t._e()}))})),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.IsSearch,expression:"IsSearch"}],staticClass:"ns-list-ul"},t._l(t.SearchPatients,function(e,n){return a("li",{key:n,staticClass:"ns-list-li",class:{active:n===t.personCurrentIndex},attrs:{"data-personId":e.personId},on:{click:function(e){e.stopPropagation(),t.personCurrentIndex=n,t.searchSinglePatient(e)}}},[a("img",{staticClass:"ns-list-pic",attrs:{src:e.headUrl||"https://www.fc18.com.cn/aiaf/sgw/content/fileResource/5443334476",alt:"picture unloaded"}}),t._v(" "),a("div",{staticClass:"ns-list-right"},[a("div",{staticClass:"ns-list-right-top"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"ns-list-right-bottom"},[a("div",{staticClass:"ns-information"},[t._v(t._s("0"===e.sex?"女":"男"))]),t._v(" "),a("div",{staticClass:"ns-information"},[t._v(t._s(e.age)+"岁")])])])])}))])])},staticRenderFns:[]};e.a=n},"jt/b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=a("fZjL"),i=(n=s)&&n.__esModule?n:{default:n};e.default={props:["AllPatients","regularAllPatients"],watch:{AllPatients:function(){var t=this;return 0==t.numCount&&(t.cachePatients=t.cachePatients.concat([],t.AllPatients)),t.currentPatients=t.AllPatients,this.numCount=this.numCount+1,this.AllPatients},currentPatients:function(){var t=this;this.personCurrentIndex=null,(0,i.default)(t.currentPatients).forEach(function(e){t.currentPatients[e].personId===t.currentPersonId&&(t.personCurrentIndex=e)})},regularAllPatients:function(){console.log(this.regularAllPatients)}},data:function(){return{cachePatients:[],currentPatients:[],SearchPatients:[],numCount:0,personCurrentIndex:0,currentPersonId:"",IsSearch:!1,letterArr:"ABCDEFGHIJKLMNOPQRSTUVWYZ".split("")}},methods:{search:function(t){var e=this,a=[];t.target.value?(e.IsSearch=!0,e.AllPatients.map(function(e){e.name.indexOf(t.target.value)>-1&&a.push(e)}),e.SearchPatients=a):(e.IsSearch=!1,e.SearchPatients=e.cachePatients)},searchSinglePatient:function(t){this.$emit("sendPersonId",t.currentTarget.dataset.personid),this.currentPatients=this.cachePatients,this.currentPersonId=t.currentTarget.dataset.personid},initialSearch:function(t){document.querySelector("#scroll_body").scrollTop=this.$refs["anchor-"+t.currentTarget.dataset.word]?this.$refs["anchor-"+t.currentTarget.dataset.word][0].offsetTop:"",this.currentPatients=[]},recover:function(){this.currentPatients=this.cachePatients}},beforeCreate:function(){},created:function(){}}},tSsD:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"coat"}},[a("headTop"),t._v(" "),a("div",{staticClass:"fornative"},[a("temp",{attrs:{headtxt:"个人信息"}}),t._v(" "),a("namesearch",{staticStyle:{visibility:"hidden"},attrs:{AllPatients:t.AllPatients,regularAllPatients:t.regularAllPatients},on:{sendPersonId:t.changePerson}}),t._v(" "),a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("div",{staticClass:"main"},[a("div",{staticClass:"content"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.patientName,expression:"patientName"}],attrs:{type:"text",placeholder:"必填，请输入姓名"},domProps:{value:t.patientName},on:{input:function(e){e.target.composing||(t.patientName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("身份证号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.patientIdNumber,expression:"patientIdNumber"}],attrs:{maxlength:"18",type:"text",placeholder:"必填，请输入身份证号"},domProps:{value:t.patientIdNumber},on:{input:function(e){e.target.composing||(t.patientIdNumber=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("出生日期")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.birthday,expression:"birthday"}],attrs:{maxlength:"18",readonly:"",type:"text",placeholder:"根据身份证号进行识别"},domProps:{value:t.birthday},on:{input:function(e){e.target.composing||(t.birthday=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("年龄")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],attrs:{maxlength:"18",readonly:"",type:"text",placeholder:"根据身份证号进行识别"},domProps:{value:t.age},on:{input:function(e){e.target.composing||(t.age=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("联系方式")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.patientPhone,expression:"patientPhone"}],attrs:{type:"text",placeholder:"选填，请输入电话号码"},domProps:{value:t.patientPhone},on:{input:function(e){e.target.composing||(t.patientPhone=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"item",staticStyle:{height:"1.1rem"}},[a("div",{staticClass:"label"},[t._v("住址")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientAddress,expression:"patientAddress"}],attrs:{id:"textarea",rows:"4",cols:"",placeholder:"选填，请输入住址"},domProps:{value:t.patientAddress},on:{focus:t.getFocus,input:function(e){e.target.composing||(t.patientAddress=e.target.value)}}})])])]),t._v(" "),a("btn",{staticClass:"next cliect",attrs:{fragment:"下一步"},nativeOn:{click:function(e){return t.gonext(e)}}})],1)],1)],1)},staticRenderFns:[]};e.a=n},u90m:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("jt/b"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);var r=a("dj50");var o=function(t){a("4XP4")},l=a("VU/8")(s.a,r.a,!1,o,"data-v-14ab916a",null);e.default=l.exports},zB84:function(t,e){}},["I1/9"]);
//# sourceMappingURL=info.48429bc3.js.map