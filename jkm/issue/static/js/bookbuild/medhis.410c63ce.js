webpackJsonp([56],{"+DXH":function(t,e,i){"use strict";var a=s(i("/5sW")),r=s(i("JpT3"));function s(t){return t&&t.__esModule?t:{default:t}}i("paoi"),new a.default({el:"#medhis",render:function(t){return t(r.default)}})},"8o57":function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"coat"}},[a("headTop"),t._v(" "),a("div",{staticClass:"fornative"},[a("temp",{attrs:{headtxt:"个人信息"}}),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"histitle"},[t._v("既往病史")]),t._v(" "),a("div",{staticClass:"detail"},t._l(t.troublelist,function(e,r){return a("div",{staticClass:"item",class:{on:t.listarr[0]}},[t.listarr[r]?t._e():a("img",{attrs:{"data-index":r,src:i("NtQS")},on:{click:function(e){t.confirm(e)}}}),t._v(" "),t.listarr[r]?a("img",{attrs:{"data-index":r,src:i("Ee9b")},on:{click:function(e){t.cancel(e)}}}):t._e(),t._v(" "),a("span",[t._v(t._s(e))]),t._v(" "),t.listarr[r]?a("date-picker",{staticClass:"picker",attrs:{date:t.startTimearr[r],option:t.option,limit:t.limit}}):t._e()],1)}))]),t._v(" "),a("btn",{staticClass:"next",attrs:{fragment:"下一步"},nativeOn:{click:function(e){return t.next(e)}}}),t._v(" "),a("div",{staticClass:"manu",on:{click:t.manu}},[t._v("\n\t\t\t跳过\n\t\t")])],1)],1)},staticRenderFns:[]};e.a=a},JpT3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("dwGE"),r=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var n=i("8o57");var o=function(t){i("STwv")},d=i("VU/8")(r.a,n.a,!1,o,"data-v-205cbc68",null);e.default=d.exports},STwv:function(t,e){},dwGE:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(i("mvHQ")),r=u(i("35/Y")),s=u(i("bUer")),n=u(i("oM3R")),o=u(i("i+gI")),d=i("yt7g"),l=i("vMlw"),c=u(i("TXMN"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"medhis",components:{temp:r.default,btn:s.default,headTop:n.default,"date-picker":o.default},data:function(){return{troublelist:["高血压","重性精神病","糖尿病","结核病","冠心病","肝炎","慢阻肺","其他传染病","恶性肿瘤","职业病","脑卒中","其他"],notyet:"../../../assets/notyet.png",already:"../../../assets/already.png",status:!0,startTimearr:[],option:{type:"day",week:["一","二","三","四","五","六","日"],month:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],format:"YYYY-MM-DD",placeholder:"请选择确诊时间",inputStyle:{display:"inline-block",padding:"6px","line-height":"22px","font-size":"16px",border:"1px solid #eee","box-shadow":"0","border-radius":"2px",color:"#5F5F5F",width:"20vw"},color:{header:"#ccc",headerText:"#f00"},buttons:{ok:"确定",cancel:"取消"},overlayOpacity:.5,dismissible:!0},timeoption:{type:"min",week:["一","二","三","四","五","六","日"],month:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],format:"YYYY-MM-DD HH:mm"},multiOption:{type:"multi-day",week:["一","二","三","四","五","六","日"],month:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],format:"YYYY-MM-DD HH:mm"},limit:[{type:"weekday",available:[0,1,2,3,4,5,6]},{type:"fromto",from:"1949-01-01",to:(0,d.dateFormat)(Date.now()+864e5)}],listarr:[]}},methods:{confirm:function(t){c.default.set(this.listarr,t.target.dataset.index,!0)},cancel:function(t){c.default.set(this.listarr,t.target.dataset.index,!1)},manu:function(){window.location.href="./sibhis.html?did="+this.did+"&scid="+this.scid+"&type="+this.type},next:function(){for(var t=this.listarr,e=this.troublelist,i=this.startTimearr,r=[],s=0;s<12;s++)r.push({name:e[s],value:t[s]?i[s].time:"",status:t[s]?"true":"false"});sessionStorage.setItem("medicalHistory",(0,a.default)(r)),this.manu()}},created:function(){var t=this,e=this,i=(0,d.getURLParameter)("type"),a=(0,d.getURLParameter)("scid"),r=(0,d.getURLParameter)("did"),s=sessionStorage.getItem("personId");if(e.type=i,e.scid=a,e.did=r,(0,d.empty)(s)||"edit"!=i)for(var n=0;n<12;n++)this.listarr.push(!1),this.startTimearr.push({time:""});else{var o={personId:s};(0,l.queryPersonalRecord)(o).then(function(i){if(i.result.medicalAdditionalInfo&&!(0,d.empty)(i.result.medicalAdditionalInfo.pastHistory)){for(var a=i.result.medicalAdditionalInfo.pastHistory.diseaseList,r=e.troublelist,s=0;s<12;s++)t.listarr.push(!1),t.startTimearr.push({time:""});r.forEach(function(t,i,r){a.forEach(function(a,r,s){a.name==t&&(e.listarr[i]=!0,e.startTimearr[i].time=a.time)})})}else for(s=0;s<12;s++)t.listarr.push(!1),t.startTimearr.push({time:""})})}},mounted:function(){}}}},["+DXH"]);
//# sourceMappingURL=medhis.410c63ce.js.map