webpackJsonp([36],{"+MLA":function(t,e,a){var i=a("EqjI"),n=a("06OY").onFreeze;a("uqUo")("freeze",function(t){return function(e){return t&&i(e)?t(n(e)):e}})},"1AUt":function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"coat"}},[i("headTop"),t._v(" "),i("div",{staticClass:"fornative"},[i("temp",{attrs:{headtxt:"个人信息"}}),t._v(" "),i("div",{staticClass:"main"},[i("div",{staticClass:"histitle"},[t._v("家族史")]),t._v(" "),i("div",{staticClass:"detail"},[t._m(0),t._v(" "),t._l(t.troublelist,function(e,n){return i("div",{staticClass:"item"},[i("div",[t._v(t._s(e.name))]),t._v(" "),t._l(e.value,function(s,r){return i("div",[e.value[r]?t._e():i("img",{attrs:{"data-relation":r,"data-line":n,src:a("NtQS")},on:{click:function(e){t.confirm(e)}}}),t._v(" "),e.value[r]?i("img",{attrs:{"data-relation":r,"data-line":n,src:a("Ee9b")},on:{click:function(e){t.cancel(e)}}}):t._e()])})],2)})],2)]),t._v(" "),i("btn",{staticClass:"next",attrs:{fragment:"保存"},nativeOn:{click:function(e){return t.save(e)}}}),t._v(" "),i("div",{staticClass:"manu",staticStyle:{display:"none"}},[t._v("\n\t\t\t跳过\n\t\t")])],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("div"),t._v(" "),a("div",[t._v("父亲")]),t._v(" "),a("div",[t._v("母亲")]),t._v(" "),a("div",[t._v("兄弟姐妹")]),t._v(" "),a("div",[t._v("子女")])])}]};e.a=i},HfxV:function(t,e,a){"use strict";var i=s(a("/5sW")),n=s(a("UfjW"));function s(t){return t&&t.__esModule?t:{default:t}}a("paoi"),new i.default({el:"#sibhis",render:function(t){return t(n.default)}})},O4R0:function(t,e,a){a("+MLA"),t.exports=a("FeBl").Object.freeze},"S+SR":function(t,e){},UfjW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("UxCR"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);var r=a("1AUt");var l=function(t){a("S+SR")},o=a("VU/8")(n.a,r.a,!1,l,"data-v-3e9d9a6e",null);e.default=o.exports},UxCR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(a("woOf")),n=f(a("u2KI")),s=f(a("mvHQ")),r=f(a("35/Y")),l=f(a("bUer")),o=f(a("oM3R")),u=a("yt7g"),d=f(a("TXMN")),c=a("vMlw");function f(t){return t&&t.__esModule?t:{default:t}}e.default={name:"sibhis",components:{temp:r.default,btn:l.default,headTop:o.default},data:function(){return{troublelist:["高血压","糖尿病","冠心病","慢阻肺","恶性肿瘤","脑卒中"],status:!0,relations:["父亲","母亲","兄弟姐妹","子女"]}},methods:{confirm:function(t){var e=t.target.dataset.relation,a=t.target.dataset.line;d.default.set(this.troublelist[a].value,e,!0)},cancel:function(t){var e=t.target.dataset.relation,a=t.target.dataset.line;d.default.set(this.troublelist[a].value,e,!1)},save:function(){var t=this,e=[];e=JSON.parse((0,s.default)(this.troublelist)),(0,n.default)(this.troublelist);for(var a=0;a<6;a++)for(var r=0;r<4;r++)e[a].value.splice(r,1,{status:e[a].value[r].toString(),name:this.relations[r]});var l=JSON.parse(sessionStorage.getItem("medicalHistory")),o=JSON.parse(sessionStorage.getItem("FileEstablishment"));(0,i.default)(o,{medicalHistory:l},{familyHistory:e}),(0,c.saveFileEstablishment)(o).then(function(e){sessionStorage.removeItem("medicalHistory"),sessionStorage.removeItem("FileEstablishment"),"switch"==t.type?window.location.href="../remoteclinic/affirmexpert.html?personId="+e.personId+"&did="+t.did+"&scid="+t.scid+"&type=info":(window.android&&window.android.getPersonInfo(e.personId),window.location.href="../main/index.html?personId="+e.personId+"&index=0")},function(e){t.alertDefault({text:e.data.resultMessage,rowButton:!1,leftButtonText:"取消",rightButtonText:"确定"})})}},created:function(){var t=this,e=this,a=(0,u.getURLParameter)("type"),i=(0,u.getURLParameter)("scid"),n=(0,u.getURLParameter)("did");e.type=a,e.scid=i,e.did=n;var s=[],r=sessionStorage.getItem("personId");if(r&&"edit"==a){var l={personId:r};(0,c.queryPersonalRecord)(l).then(function(a){if(a.result.medicalAdditionalInfo&&a.result.medicalAdditionalInfo.familyHistory){for(var i,n=a.result.medicalAdditionalInfo.familyHistory.list,r=0;r<n.length;r++){for(var l=[],o=0;o<n[r].value.length;o++)l.push("true"===n[r].value[o].status);s.push({name:n[r].name,value:l})}(i=e.troublelist).splice.apply(i,[0,6].concat(s))}else{var u;for(r=0;r<t.troublelist.length;r++)s.push({name:t.troublelist[r],value:[!1,!1,!1,!1]});(u=t.troublelist).splice.apply(u,[0,6].concat(s))}})}else{for(var o,d=0;d<this.troublelist.length;d++)s.push({name:this.troublelist[d],value:[!1,!1,!1,!1]});(o=this.troublelist).splice.apply(o,[0,6].concat(s))}},mounted:function(){}}},u2KI:function(t,e,a){t.exports={default:a("O4R0"),__esModule:!0}}},["HfxV"]);
//# sourceMappingURL=sibhis.5fdbd4a8.js.map