webpackJsonp([40],{"11zP":function(t,e,i){"use strict";var a=n(i("/5sW")),s=n(i("a/c/"));function n(t){return t&&t.__esModule?t:{default:t}}i("paoi"),new a.default({el:"#experts",render:function(t){return t(s.default)}})},"9QfB":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAclBMVEUAAACampqbm5utra2bm5uZmZmampqZmZmampqampqjo6OZmZmampqcnJyampqZmZmZmZmampqZmZmampqZmZmZmZmZmZmbm5uampqampqampqbm5uampqcnJybm5udnZ2ampqampqbm5uampqampqZmZlQYP0BAAAAJXRSTlMA5CMGGfjUp6FeCu/hEPTckofMv7myi4NzalFNPTgpJ7GaMa5E5BCKhwAAANlJREFUKM+lkNluxCAMRZ0JBAhk3yfLLO39/1+sBGgKSH3qefFFByxjcrBtbLgu5D2nmGrm8BgVmUcDTOqq2LEYQJSB0ejfPucrx5B/ujV4BhePGi/yzOid8dyB08/G8aYIgcGFDU+KuQBmwwhFCQU2Wxs8UiUx28pRpaqDsFWDpaqF9I3PVE3ofOMlVRq7/6FJt91npduawUoJua8K/KCA7ypcTL1/DuUXstvv8wEQl4vKAJFrARSya6ca0GsWOjpHOOqW0S12xFQnX8tupw5cxD9dQX+5QvwA+lwRbKdrwX0AAAAASUVORK5CYII="},GQjn:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"experts"},[a("headTop"),t._v(" "),a("div",{staticClass:"experts-content"},[a("div",{staticClass:"content-right"},[a("div",{staticClass:"right_header"},[a("div",{staticClass:"header_content"},[a("div",{staticClass:"province",class:{on:t.location},on:{click:t.locationcheck}},[a("img",{attrs:{src:"https://www.fc18.com.cn/aiaf/sgw/content/fileResource/5533859848",alt:""}}),t._v(" "),a("span",[t._v(t._s(t.doctorarea))])]),t._v(" "),a("div",{staticClass:"hospital_wrap"},[a("div",{staticClass:"hospital"},[a("span",{class:["nationwide",t.isnationwide?"on":""],staticStyle:{"margin-right":"0.1rem"},on:{click:function(e){return e.stopPropagation(),t.nationwide(e)}}},[t._v("全国")]),t._v(" "),a("ul",[a("li",{staticStyle:{width:"90%"},on:{click:function(e){return e.stopPropagation(),t.showProvince(e)}}},[t._v(t._s(t.ProvinceName))]),t._v(" "),t.currentProvince?a("li",[t._v(t._s(t.ProvinceName))]):t._e()]),t._v(" "),a("img",{attrs:{src:"https://www.fc18.com.cn/aiaf/sgw/content/fileResource/5533859856",alt:""}})]),t._v(" "),a("div",{staticClass:"hospital",staticStyle:{width:"39%"}},[a("span",[t._v("医院")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.hospital,expression:"hospital"}],staticClass:"hospital-list",staticStyle:{"padding-right":"10%",width:"80%"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hospital=e.target.multiple?i:i[0]},t.choosehospital]}},[t._l(t.hospitallist,function(e){return[a("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])]})],2),t._v(" "),a("img",{staticStyle:{right:"10%"},attrs:{src:"https://www.fc18.com.cn/aiaf/sgw/content/fileResource/5533859856",alt:""}})]),t._v(" "),a("div",{staticClass:"hospital",staticStyle:{width:"26%"}},[a("span",[t._v("科室")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.department,expression:"department"}],staticClass:"departments-list",staticStyle:{"padding-right":"10%"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.department=e.target.multiple?i:i[0]},t.choseexpert]}},[t._l(t.departments,function(e){return[a("option",{domProps:{value:e}},[t._v(t._s(e))])]})],2),t._v(" "),a("img",{staticStyle:{right:"10%"},attrs:{src:"https://www.fc18.com.cn/aiaf/sgw/content/fileResource/5533859856",alt:""}})])])])]),t._v(" "),a("div",{staticClass:"reservation-time-left"},[t._l(t.datelist,function(e,i){return[a("div",0==i?{staticClass:"time-left-item on",attrs:{"data-code":i},on:{click:function(e){t.clickitem(e.target,i)}}}:{staticClass:"time-left-item",attrs:{"data-code":i},on:{click:function(e){t.clickitem(e.target,i)}}},[a("span",[t._v(t._s(e.wenm))]),a("span",[t._v(t._s(e.dat))]),a("span",{staticClass:"line"})])]}),t._v(" "),a("div",{staticClass:"select"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.doctorname,expression:"doctorname"}],attrs:{type:"text",name:"",id:"",placeholder:"医生姓名",value:""},domProps:{value:t.doctorname},on:{input:function(e){e.target.composing||(t.doctorname=e.target.value)}}}),a("img",{attrs:{src:i("9QfB")},on:{click:t.getnamedlist}})])],2),t._v(" "),a("ul",{staticClass:"right-list"},[t._l(t.doctorList,function(e,i){return[t._l(e.doctors,function(e,i){return[a("li",{staticClass:"right-item",attrs:{"data-id":e.doctorId}},[a("div",{staticClass:"right-item-left"},[a("img",{staticClass:"head-icon",attrs:{src:e.nickUrl}}),t._v(" "),a("div",{staticClass:"detail"},[a("p",[a("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("span",[t._v(t._s(e.profession))])]),t._v(" "),a("p",[t._v("医院：\n\t\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(e.organization))])]),t._v(" "),a("p",[t._v("擅长：\n\t\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(e.description))])])])]),t._v(" "),a("div",{staticClass:"right-item-right"},t._l(e.schedules,function(i){return a("span",{class:{full:!i.remain||"0"===i.section&&t.overtime,danger:1==i.remain||2==i.remain},on:{click:function(a){t.gotodoctor(e.doctorId,i.schedulingTableId,i.remain,"0"===i.section&&t.overtime)}}},[t._v(t._s(i.remain?"0"===i.section?"上午("+i.remain+")":"下午("+i.remain+")":"约满"))])}))])]})]})],2)])]),t._v(" "),t._m(0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"page"},[a("div",{staticClass:"content"},[a("div",{staticClass:"box"},[t._m(1),t._v(" "),a("div",{staticClass:"box_content"},[a("div",{staticClass:"active",on:{click:function(e){e.stopPropagation(),t.changeProvince("","provalue")}}},[t._v(t._s(t.provalue))])]),t._v(" "),a("div",{staticClass:"box_content"},[a("div",{staticClass:"active",on:{click:function(e){e.stopPropagation(),t.changeProvince(t.procode,"cityvalue")}}},[t._v(t._s(t.cityvalue))])]),t._v(" "),a("div",{staticClass:"box_content"},[a("div",{staticClass:"active",on:{click:function(e){e.stopPropagation(),t.changeProvince(t.citycode,"district")}}},[t._v(t._s(t.district))])]),t._v(" "),a("div",{staticStyle:{"margin-left":"auto","margin-right":"15px"},on:{click:t.exitOut}},[t._v("取消")])]),t._v(" "),a("div",{staticClass:"scroll"},[t._l(t.province,function(e){return[a("div",{class:["address",e.select?"on":""],on:{click:function(i){t.chooseProvince(e.value,e.name)}}},[t._v(t._s(e.name))])]})],2)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wind-location"},[e("div",{staticClass:"location-content"},[e("div",{staticClass:"location-head"},[this._v("请选择专家所在区域")]),this._v(" "),e("div",{staticClass:"location-bottom"},[e("div",{staticClass:"location-item"},[this._v("浙江省")]),this._v(" "),e("div",{staticClass:"location-item"},[this._v("全国")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box_content"},[e("div",{staticClass:"active"},[this._v("请选择")])])}]};e.a=a},"a/c/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("evXJ"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);var o=i("GQjn");var c=function(t){i("w9NJ")},r=i("VU/8")(s.a,o.a,!1,c,null,null);e.default=r.exports},evXJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,s=d(i("bOdI")),n=d(i("mvHQ")),o=d(i("oM3R")),c=i("yt7g"),r=i("vMlw"),l=(d(i("i+gI")),d(i("7t+N")));function d(t){return t&&t.__esModule?t:{default:t}}e.default=(a={name:"experts",components:{},data:function(){return{result:[],doctorList:[],address:"",province:null,currentProvince:"",isShow:!1,ProvinceName:"请选择省市",city:null,county:null,currentCity:"",reqindex:1,provinceValue:"",provalue:"",cityvalue:"",district:"",prostatus:"provalue",hospitallist:[],departments:[],procode:"",citycode:"",discode:"",isnationwide:!1,chooseArr:[{currentProvince:"",ProvinceName:"请选择",provinceValue:""}],originprovince:null,datelist:[],hospital:"",department:"",startTimecha:"",endTimecha:"",timenum:"",doctorprovince:"",doctorcity:"",doctorarea:"",location:!0,doctorname:""}},watch:{doctorname:function(t){this.getnamedlist()}},methods:{clickitem:function(t,e){var i=parseInt(this.timenum)+864e5*e,a=i+864e5;this.startTimecha=i,this.endTimecha=a,(0,l.default)(".time-left-item").removeClass("on"),(0,l.default)(t).parents(".time-left-item").addClass("on"),(0,l.default)(t).addClass("on"),this.getRemotelist()},gotodoctor:function(t,e,i,a){i&&!a&&(window.location.href="affirmexpert.html?scid="+e+"&did="+t)},nationwide:function(){this.isnationwide=!0,this.location=!1,this.gethopstip("","",""),this.initprovincelist()},locationcheck:function(){var t=this;t.isnationwide=!1,t.location=!0,t.gethopstip(t.doctorprovince,t.doctorcity,t.doctorarea),this.initprovincelist()},initprovincelist:function(){this.ProvinceName="请选择省市",this.province=JSON.parse((0,n.default)(this.originprovince)),this.citycode="",this.cityvalue="",this.discode="",this.district="",this.procode="",this.provalue="",this.prostatus="provalue"},choosehospital:function(){var t=this,e=t.hospital;t.hospitallist.forEach(function(i){i.name==e&&(t.departments=i.departments)}),t.department=t.departments[0],t.getRemotelist()},exitOut:function(){this.isShow=!1},showProvince:function(){this.isShow=!0,this.showcitylist()},ChooseItem:function(t){this.ProvinceName=t},changeProvince:function(t,e){var i=this,a=this,s=t?{code:t}:{};(0,r.getAddress)(s).then(function(t){"success"===t.resultCode&&(i.province=t.result,null===a.originprovince&&(a.originprovince=JSON.parse((0,n.default)(t.result))),(0,c.empty)(e)||(a.prostatus=e),a.showcitylist())}).catch(function(t){console.log(t)})},choseexpert:function(){this.getRemotelist()},chooseProvince:function(t,e){var i=this;i.province;if("provalue"==i.prostatus)return i.provalue=e,i.cityvalue="",i.district="",i.procode=t,i.ProvinceName=i.provalue+i.cityvalue+i.district,i.isShow=!1,i.isnationwide=!1,i.location=!1,void i.gethopstip(i.provalue,i.cityvalue,i.district);"cityvalue"==i.prostatus?(i.cityvalue=e,i.citycode=t,i.changeProvince(t,"district")):"district"==i.prostatus&&(i.district=e,i.discode=t,i.ProvinceName=i.provalue+i.cityvalue+i.district,i.isShow=!1,i.isnationwide=!1,i.gethopstip(i.provalue,i.cityvalue,i.district))},gethopstip:function(t,e,i){var a=this,s={province:t,city:e,area:i};(0,r.getHospital)(s).then(function(t){a.hospitallist=t.result,a.departments=t.result[0]?t.result[0].departments:[],a.hospital=t.result[0]?t.result[0].name:"",a.department=t.result[0]?t.result[0].departments[0]:"",a.getRemotelist()}).catch(function(t){console.log(t)})},showcitylist:function(){var t=this,e="",i=t.province;"provalue"==t.prostatus?e=t.procode:"cityvalue"==t.prostatus?e=t.citycode:"district"==t.prostatus&&(e=t.discode),i.forEach(function(t){t.value==e?t.select=!0:t.select=!1}),t.province=i},getnamedlist:function(){var t=this,e=(t=this).startTimecha,i=t.endTimecha;(0,r.getRemoteClinic)({startTime:e,endTime:i,name:t.doctorname}).then(function(e){t.result=e.result,(0,c.empty)(e.result)?t.doctorList=[]:t.doctorList=e.result}).catch(function(t){})},getRemotelist:function(){var t=this,e={startTime:t.startTimecha,endTime:t.endTimecha,hospital:t.hospital,department:t.department,province:t.isnationwide?"":t.location?t.doctorprovince:t.provalue,city:t.isnationwide?"":t.location?t.doctorcity:t.cityvalue,area:t.isnationwide?"":t.location?t.doctorarea:t.district};(0,r.getRemoteClinic)(e).then(function(e){t.result=e.result,(0,c.empty)(e.result)?t.doctorList=[]:t.doctorList=e.result}).catch(function(t){})}}},(0,s.default)(a,"components",{headTop:o.default}),(0,s.default)(a,"computed",{overtime:{get:function(){var t=(0,c.dateFormat)((new Date).getTime(),"Y-m-d")+" 0:0:0",e=new Date(t).getTime();return(new Date).getHours()>11&&this.startTimecha==e},set:function(){}}}),(0,s.default)(a,"created",function(){var t=this,e=(0,c.getURLParameter)("personId");e?sessionStorage.setItem("personId",e):(0,c.empty)(sessionStorage.getItem("personId"))&&t.alertDefault({text:'患者未登记，请先进行"身份读取"',rowButton:!0}),t.doctorprovince=JSON.parse(sessionStorage.getItem("doctorMsg")).province,t.doctorcity=JSON.parse(sessionStorage.getItem("doctorMsg")).city,t.doctorarea=JSON.parse(sessionStorage.getItem("doctorMsg")).area,t.changeProvince(),this.locationcheck();var i=[],a=[],s=new Date,n=(0,c.dateFormat)(s.getTime(),"Y-m-d")+" 0:0:0",o=new Date(n).getTime(),r=parseInt(s.getFullYear()),l=parseInt(s.getMonth()+1),d=parseInt(s.getDate()),m=parseInt(s.getDay()),u=r%4==0&&r%100!=0||r%400==0;switch(t.timenum=o,l){case 1:var v=31;break;case 2:if(u)v=29;else v=28;break;case 3:v=31;break;case 4:v=30;break;case 5:v=31;break;case 6:v=30;break;case 7:v=31;break;case 8:v=31;break;case 9:v=30;break;case 10:v=31;break;case 11:v=30;break;case 12:v=31}for(var p=0;p<7;p++){var h={};h.wenm=m,h.monm=l,h.dynm=d,i.push(h),m>=6?m=0:m++,d>=v?(l>=12?l=1:l++,d=1):d++}i.forEach(function(t){var e={};switch(1==t.dynm.toString().length?e.dynm="0"+t.dynm:e.dynm=t.dynm,1==t.monm.toString().length?e.monm="0"+t.monm:e.monm=t.monm,e.dat=e.monm+"."+e.dynm,t.wenm){case 0:e.wenm="周日";break;case 1:e.wenm="周一";break;case 2:e.wenm="周二";break;case 3:e.wenm="周三";break;case 4:e.wenm="周四";break;case 5:e.wenm="周五";break;case 6:e.wenm="周六"}a.push(e)}),t.datelist=a;parseInt((new Date).getTime());t.start=o,t.intertime=o+864e5,console.log(t.start),console.log(t.intertime),t.startTimecha=t.timenum,t.endTimecha=t.timenum+864e5}),(0,s.default)(a,"mounted",function(){}),a)},w9NJ:function(t,e){}},["11zP"]);
//# sourceMappingURL=experts.e091a6b5.js.map