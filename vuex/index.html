<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="./node_modules/vue/dist/vue.js"></script>
		<script src="./node_modules/vuex/dist/vuex.js"></script>

	</head>

	<body>
		<div id="app"></div>
		<input type="button" value="按钮" />
	</body>
	<script>
		document.getElementsByTagName("input")[0].onclick = function() {
			store.commit('increment');
			console.log(Vuex.mapState)
		}
		const store = new Vuex.Store({
			state: {
				count: 0
			},
			mutations: {
				increment(state) {
					state.count++
				}
			}
		})
		//	store.commit('increment')
		//	console.log(store.state.count) // -> 1	

		const Counter = {
			template: `<div>{{ count }}</div>`,
			computed: {
				count() {
					return this.$store.state.count
				}
			}
		}
		const app = new Vue({
			el: '#app',
			// 把 store 对象提供给 “store” 选项，这可以把 store 的实例注入所有的子组件
			store,
			components: {
				Counter
			},
			template: `
    <div class="app">
      <counter></counter>
    </div>
  `
		})
	</script>

</html>