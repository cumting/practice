<!DOCTYPE html>
<html>

	<head>
		<title>使用JSON和jQuery实现列表框三级联动</title>
		<script src="JScript/jquery-1.8.2.min.js" type="text/javascript"></script>
		<style type="text/css">
html{
	font-size: 5vw;
}
select{
	width: 20vw;
	height: 10vw;
	font-size: 5vw;
}
		</style>
		<script type="text/javascript">
			//将JSON格式的数据保存在变量中
			var aa;
			$.getJSON("UserInfo.json", function(data) {

				//data=JSON.stringify(data);
				//console.log(data)
			}).success(function(response) {
				console.log(response)
				aa = response.carOwnerInfo.vehicleAreaList;
				console.log(aa)
				var l = aa.length
				//				console.log(l)
				arr = [];
				for(var i = 0; i < l; i++) {

					arr.push(aa[i].provinceName)
					$option = "<option>" + arr[i] + "</option>"
					//					console.log($option)
					$("#sele1").append($option)
					

				}


				$("#sele1").change(function() {
//					console.log($("#sele1").val())
					for(i = 0; i < l; i++) {
						if(arr[i] == $("#sele1").val()) {
							k = aa[i].vehicleCityList.length;
//							console.log(k)


						
					arr1 = [];
					for(var r = 0; r < k; r++) {
//	console.log(i)
//					console.log(aa[i].vehicleCityList[r].cityName)
						arr1.push(aa[i].vehicleCityList[r].cityName)
						
						
					}
					console.log(arr1)
					if($("#sele2 option").length!=0){
						$("#sele2").empty()
					}
				
					for(var p=0;p<arr1.length;p++){
//						console.log(arr1[0])	
						$option1 = "<option>" + arr1[p] + "</option>"
						$("#sele2").append($option1)

					}
					
						};

					}
					

				})

			})

			//   window.aa=eval(data).carOwnerInfo.vehicleAreaList;

			//      	  var l=aa.length
			//      	  console.log(l)
			//      	  arr=[];
			//      for (var i=0;i<l;i++){
			//      	
			//      	arr.push(aa[i].provinceName)
			//      	 console.log(aa[i].provinceName)
			//console.log(arr)
			//      }
			//     console.log(arr[2])
			//    console.log(aa)
			//
		</script>
	</head>

	<body>
		<div>
			<div class="title">请选择省市：
				<select id="sele1" name="sele1">
<option value="">请选择</option>
				</select>

				<select id="sele2" name="sele2">
<option value="">请选择</option>
				</select>

			</div>

		</div>
	</body>

</html>